# Notebook Usage Guide / „Éé„Éº„Éà„Éñ„ÉÉ„ÇØ‰ΩøÁî®„Ç¨„Ç§„Éâ

<div align="center">

<button onclick="toggleLanguage()" style="background: linear-gradient(45deg, #007bff, #0056b3); color: white; border: none; padding: 10px 20px; border-radius: 25px; cursor: pointer; font-size: 16px; font-weight: bold; margin: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.2); transition: all 0.3s ease;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
  <span id="lang-button">üåê Êó•Êú¨Ë™û / English</span>
</button>

</div>

<script>
let currentLang = 'en';

function toggleLanguage() {
  const englishSection = document.getElementById('english-section');
  const japaneseSection = document.getElementById('japanese-section');
  const langButton = document.getElementById('lang-button');
  
  if (currentLang === 'en') {
    englishSection.style.display = 'none';
    japaneseSection.style.display = 'block';
    langButton.textContent = 'üåê English / Êó•Êú¨Ë™û';
    currentLang = 'ja';
  } else {
    englishSection.style.display = 'block';
    japaneseSection.style.display = 'none';
    langButton.textContent = 'üåê Êó•Êú¨Ë™û / English';
    currentLang = 'en';
  }
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', function() {
  const englishSection = document.getElementById('english-section');
  const japaneseSection = document.getElementById('japanese-section');
  
  if (englishSection && japaneseSection) {
    englishSection.style.display = 'block';
    japaneseSection.style.display = 'none';
  }
});
</script>

---

<div id="english-section">

## English

### Overview

This guide explains how to use the two main notebooks in this repository to get OCR results from Yomitoku Pro and process them with Yomitoku Client.

### Workflow Overview

```
Document ‚Üí Yomitoku Pro ‚Üí OCR Results ‚Üí Yomitoku Client ‚Üí Processed Output
    ‚Üì           ‚Üì              ‚Üì              ‚Üì              ‚Üì
  PDF/Image  SageMaker    JSON Format    Format Convert   CSV/HTML/PDF
```

### Step 1: Getting OCR Results (`yomitoku-pro-document-analyzer.ipynb`)

This notebook shows how to deploy and use Yomitoku Pro to get OCR results from your documents.

#### Prerequisites

1. **AWS Account** with appropriate permissions
2. **SageMaker FullAccess** permissions for your AWS user/role
3. **Yomitoku Pro subscription** from AWS Marketplace

#### Deployment Options

##### Option A: Using CloudFormation (Recommended)

1. **Subscribe to Yomitoku Pro** from AWS Marketplace
2. **Launch CloudFormation stack** from the product page
3. **Configure parameters**:
   - Stack name: `yomitoku-pro-stack`
   - Instance type: `ml.g4dn.xlarge` (recommended)
   - Number of instances: `1`
4. **Wait for deployment** (usually 10-15 minutes)
5. **Get endpoint name** from CloudFormation outputs

##### Option B: Using SageMaker Console

1. **Create Model**:
   - Go to AWS Marketplace ‚Üí Your subscribed product ‚Üí Configure
   - Select "SageMaker Console" as launch method
   - Set model name (e.g., `my-yomitoku-model`)
   - Configure IAM role with SageMaker permissions

2. **Create Endpoint**:
   - Open your model page ‚Üí Create endpoint
   - Set endpoint name (e.g., `my-yomitoku-endpoint`)
   - Choose instance type: `ml.g4dn.xlarge` or `ml.g5.xlarge`
   - Set number of instances: `1`

#### Running OCR Analysis

```python
import boto3
import json
import base64

# Initialize SageMaker client
sagemaker_client = boto3.client('sagemaker-runtime')

# Prepare your document (PDF or image)
with open('your_document.pdf', 'rb') as f:
    document_data = base64.b64encode(f.read()).decode('utf-8')

# Create request payload
payload = {
    "inputs": document_data,
    "parameters": {
        "max_length": 1024,
        "temperature": 0.1
    }
}

# Send request to Yomitoku Pro endpoint
response = sagemaker_client.invoke_endpoint(
    EndpointName='your-endpoint-name',
    ContentType='application/json',
    Body=json.dumps(payload)
)

# Parse response
result = json.loads(response['Body'].read().decode('utf-8'))

# Save results for next step
with open('sagemaker_output.json', 'w') as f:
    json.dump(result, f, indent=2)
```

#### Expected Output Format

The Yomitoku Pro output will be in this format:

```json
{
  "result": [
    {
      "paragraphs": [
        {
          "contents": "Sample text content",
          "box": [x1, y1, x2, y2],
          "order": 1,
          "role": "paragraph"
        }
      ],
      "tables": [
        {
          "cells": [...],
          "box": [x1, y1, x2, y2],
          "order": 2,
          "n_row": 2,
          "n_col": 2
        }
      ],
      "figures": [...],
      "words": [...],
      "preprocess": {...}
    }
  ]
}
```

### Step 2: Processing Results (`yomitoku-client-example.ipynb`)

This notebook demonstrates how to process the OCR results from Yomitoku Pro using Yomitoku Client.

#### Basic Setup

```python
from yomitoku_client import YomitokuClient
from yomitoku_client.parsers.sagemaker_parser import SageMakerParser
import json

# Initialize client and parser
client = YomitokuClient()
parser = SageMakerParser()

# Load OCR results from Yomitoku Pro
with open('sagemaker_output.json', 'r') as f:
    sagemaker_output = json.load(f)

# Parse the results
parsed_data = parser.parse_dict(sagemaker_output)
```

#### Format Conversion Examples

##### 1. Convert to CSV

```python
# Convert to CSV format
csv_result = client.convert_to_format(parsed_data, 'csv')

# Save to file
with open('output.csv', 'w', encoding='utf-8') as f:
    f.write(csv_result)

print("CSV conversion completed!")
```

##### 2. Convert to HTML

```python
# Convert to HTML format
html_result = client.convert_to_format(parsed_data, 'html')

# Save to file
with open('output.html', 'w', encoding='utf-8') as f:
    f.write(html_result)

print("HTML conversion completed!")
```

##### 3. Convert to Markdown

```python
# Convert to Markdown format
markdown_result = client.convert_to_format(parsed_data, 'markdown')

# Save to file
with open('output.md', 'w', encoding='utf-8') as f:
    f.write(markdown_result)

print("Markdown conversion completed!")
```

##### 4. Convert to JSON

```python
# Convert to structured JSON
json_result = client.convert_to_format(parsed_data, 'json')

# Save to file
with open('processed_output.json', 'w', encoding='utf-8') as f:
    f.write(json_result)

print("JSON conversion completed!")
```

#### Advanced Visualization

```python
from yomitoku_client.visualizers import DocumentVisualizer
import cv2
import numpy as np

# Load your original image
image = cv2.imread('your_document.png')

# Initialize visualizer
doc_viz = DocumentVisualizer()

# 1. Basic layout visualization
layout_img = doc_viz.visualize((image, parsed_data[0]), type='layout_detail')
cv2.imwrite('layout_visualization.png', layout_img)

# 2. Reading order visualization
reading_order_img = doc_viz.visualize((image, parsed_data[0]), type='reading_order')
cv2.imwrite('reading_order.png', reading_order_img)

# 3. Element relationships
rel_img = doc_viz.visualize_element_relationships(
    image, parsed_data[0], 
    show_overlaps=True, 
    show_distances=True
)
cv2.imwrite('element_relationships.png', rel_img)

# 4. Element hierarchy
hierarchy_img = doc_viz.visualize_element_hierarchy(
    image, parsed_data[0], 
    show_containment=True
)
cv2.imwrite('element_hierarchy.png', hierarchy_img)

# 5. Confidence scores
confidence_img = doc_viz.visualize_confidence_scores(
    image, parsed_data[0], 
    show_ocr_confidence=True
)
cv2.imwrite('confidence_scores.png', confidence_img)
```

#### Searchable PDF Generation

```python
from yomitoku_client.pdf_generator import SearchablePDFGenerator

# Initialize PDF generator
pdf_generator = SearchablePDFGenerator()

# Create searchable PDF
pdf_generator.create_searchable_pdf(
    images=[image],  # List of images
    ocr_results=parsed_data,  # OCR results
    output_path='searchable_output.pdf'
)

print("Searchable PDF created!")
```

#### Utility Functions

```python
from yomitoku_client.utils import (
    calc_overlap_ratio, calc_distance, is_contained,
    escape_markdown_special_chars, table_to_csv
)

# Example: Calculate overlap between two elements
element1_box = [100, 100, 200, 200]
element2_box = [150, 150, 250, 250]

overlap_ratio, intersection = calc_overlap_ratio(element1_box, element2_box)
print(f"Overlap ratio: {overlap_ratio:.2f}")

# Example: Process table data
if parsed_data[0].tables:
    table = parsed_data[0].tables[0]
    csv_string = table_to_csv(table)
    print("Table as CSV:")
    print(csv_string)
```

### Complete Workflow Example

```python
# Complete workflow from document to processed output
def process_document_with_yomitoku(document_path, endpoint_name):
    """
    Complete workflow: Document ‚Üí Yomitoku Pro ‚Üí Yomitoku Client ‚Üí Output
    """
    
    # Step 1: Get OCR results from Yomitoku Pro
    print("Step 1: Getting OCR results from Yomitoku Pro...")
    ocr_results = get_ocr_from_yomitoku_pro(document_path, endpoint_name)
    
    # Step 2: Process with Yomitoku Client
    print("Step 2: Processing with Yomitoku Client...")
    client = YomitokuClient()
    parsed_data = client.parse_dict(ocr_results)
    
    # Step 3: Convert to multiple formats
    print("Step 3: Converting to multiple formats...")
    formats = ['csv', 'html', 'markdown', 'json']
    for format_type in formats:
        result = client.convert_to_format(parsed_data, format_type)
        with open(f'output.{format_type}', 'w', encoding='utf-8') as f:
            f.write(result)
        print(f"‚úì {format_type.upper()} conversion completed")
    
    # Step 4: Create visualizations
    print("Step 4: Creating visualizations...")
    create_visualizations(document_path, parsed_data)
    
    # Step 5: Generate searchable PDF
    print("Step 5: Generating searchable PDF...")
    generate_searchable_pdf(document_path, parsed_data)
    
    print("‚úì Complete workflow finished!")

# Run the workflow
process_document_with_yomitoku('your_document.pdf', 'your-endpoint-name')
```

### Troubleshooting

#### Common Issues

1. **Endpoint not found**: Check if your SageMaker endpoint is in "InService" status
2. **Permission errors**: Ensure your AWS credentials have SageMaker FullAccess
3. **Import errors**: Make sure yomitoku-client is properly installed
4. **Memory issues**: Use smaller instance types or process documents in batches

#### Getting Help

- Check the notebook outputs for detailed error messages
- Review AWS CloudWatch logs for SageMaker endpoint issues
- Ensure all dependencies are installed correctly

</div>

---

<div id="japanese-section">

## Êó•Êú¨Ë™û

### Ê¶ÇË¶Å

„Åì„ÅÆ„Ç¨„Ç§„Éâ„Åß„ÅØ„ÄÅ„Åì„ÅÆ„É™„Éù„Ç∏„Éà„É™„ÅÆ2„Å§„ÅÆ‰∏ªË¶Å„Å™„Éé„Éº„Éà„Éñ„ÉÉ„ÇØ„Çí‰ΩøÁî®„Åó„Å¶„ÄÅYomitoku Pro„Åã„ÇâOCRÁµêÊûú„ÇíÂèñÂæó„Åó„ÄÅYomitoku Client„ÅßÂá¶ÁêÜ„Åô„ÇãÊñπÊ≥ï„ÇíË™¨Êòé„Åó„Åæ„Åô„ÄÇ

### „ÉØ„Éº„ÇØ„Éï„É≠„ÉºÊ¶ÇË¶Å

```
ÊñáÊõ∏ ‚Üí Yomitoku Pro ‚Üí OCRÁµêÊûú ‚Üí Yomitoku Client ‚Üí Âá¶ÁêÜÊ∏à„ÅøÂá∫Âäõ
  ‚Üì         ‚Üì           ‚Üì            ‚Üì            ‚Üì
PDF/ÁîªÂÉè  SageMaker  JSONÂΩ¢Âºè    „Éï„Ç©„Éº„Éû„ÉÉ„ÉàÂ§âÊèõ  CSV/HTML/PDF
```

### „Çπ„ÉÜ„ÉÉ„Éó1: OCRÁµêÊûú„ÅÆÂèñÂæó (`yomitoku-pro-document-analyzer.ipynb`)

„Åì„ÅÆ„Éé„Éº„Éà„Éñ„ÉÉ„ÇØ„Åß„ÅØ„ÄÅYomitoku Pro„Çí„Éá„Éó„É≠„Ç§„Åó„Å¶ÊñáÊõ∏„Åã„ÇâOCRÁµêÊûú„ÇíÂèñÂæó„Åô„ÇãÊñπÊ≥ï„ÇíÁ§∫„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ

#### ÂâçÊèêÊù°‰ª∂

1. **AWS„Ç¢„Ç´„Ç¶„É≥„Éà**ÔºàÈÅ©Âàá„Å™Ê®©Èôê‰ªò„ÅçÔºâ
2. **SageMaker FullAccess**Ê®©ÈôêÔºàAWS„É¶„Éº„Ç∂„Éº/„É≠„Éº„É´Áî®Ôºâ
3. **Yomitoku Pro„Çµ„Éñ„Çπ„ÇØ„É™„Éó„Ç∑„Éß„É≥**ÔºàAWS Marketplace„Åã„ÇâÔºâ

#### „Éá„Éó„É≠„Ç§„Ç™„Éó„Ç∑„Éß„É≥

##### „Ç™„Éó„Ç∑„Éß„É≥A: CloudFormation„Çí‰ΩøÁî®ÔºàÊé®Â•®Ôºâ

1. **Yomitoku Pro„Çí„Çµ„Éñ„Çπ„ÇØ„É©„Ç§„Éñ**ÔºàAWS Marketplace„Åã„ÇâÔºâ
2. **CloudFormation„Çπ„Çø„ÉÉ„ÇØ„ÇíËµ∑Âãï**ÔºàË£ΩÂìÅ„Éö„Éº„Ç∏„Åã„ÇâÔºâ
3. **„Éë„É©„É°„Éº„Çø„ÇíË®≠ÂÆö**:
   - „Çπ„Çø„ÉÉ„ÇØÂêç: `yomitoku-pro-stack`
   - „Ç§„É≥„Çπ„Çø„É≥„Çπ„Çø„Ç§„Éó: `ml.g4dn.xlarge`ÔºàÊé®Â•®Ôºâ
   - „Ç§„É≥„Çπ„Çø„É≥„ÇπÊï∞: `1`
4. **„Éá„Éó„É≠„Ç§ÂÆå‰∫Ü„ÇíÂæÖ„Å§**ÔºàÈÄöÂ∏∏10-15ÂàÜÔºâ
5. **„Ç®„É≥„Éâ„Éù„Ç§„É≥„ÉàÂêç„ÇíÂèñÂæó**ÔºàCloudFormationÂá∫Âäõ„Åã„ÇâÔºâ

##### „Ç™„Éó„Ç∑„Éß„É≥B: SageMaker Console„Çí‰ΩøÁî®

1. **„É¢„Éá„É´„Çí‰ΩúÊàê**:
   - AWS Marketplace ‚Üí „Çµ„Éñ„Çπ„ÇØ„É©„Ç§„Éñ„Åó„ÅüË£ΩÂìÅ ‚Üí Ë®≠ÂÆö
   - Ëµ∑ÂãïÊñπÊ≥ï„Å®„Åó„Å¶„ÄåSageMaker Console„Äç„ÇíÈÅ∏Êäû
   - „É¢„Éá„É´Âêç„ÇíË®≠ÂÆöÔºà‰æãÔºö`my-yomitoku-model`Ôºâ
   - SageMakerÊ®©Èôê„ÇíÊåÅ„Å§IAM„É≠„Éº„É´„ÇíË®≠ÂÆö

2. **„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„Çí‰ΩúÊàê**:
   - „É¢„Éá„É´„Éö„Éº„Ç∏„ÇíÈñã„Åè ‚Üí „Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„Çí‰ΩúÊàê
   - „Ç®„É≥„Éâ„Éù„Ç§„É≥„ÉàÂêç„ÇíË®≠ÂÆöÔºà‰æãÔºö`my-yomitoku-endpoint`Ôºâ
   - „Ç§„É≥„Çπ„Çø„É≥„Çπ„Çø„Ç§„Éó„ÇíÈÅ∏ÊäûÔºö`ml.g4dn.xlarge`„Åæ„Åü„ÅØ`ml.g5.xlarge`
   - „Ç§„É≥„Çπ„Çø„É≥„ÇπÊï∞„ÇíË®≠ÂÆöÔºö`1`

#### OCRÂàÜÊûê„ÅÆÂÆüË°å

```python
import boto3
import json
import base64

# SageMaker„ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÇíÂàùÊúüÂåñ
sagemaker_client = boto3.client('sagemaker-runtime')

# ÊñáÊõ∏„ÇíÊ∫ñÂÇôÔºàPDF„Åæ„Åü„ÅØÁîªÂÉèÔºâ
with open('your_document.pdf', 'rb') as f:
    document_data = base64.b64encode(f.read()).decode('utf-8')

# „É™„ÇØ„Ç®„Çπ„Éà„Éö„Ç§„É≠„Éº„Éâ„Çí‰ΩúÊàê
payload = {
    "inputs": document_data,
    "parameters": {
        "max_length": 1024,
        "temperature": 0.1
    }
}

# Yomitoku Pro„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„Å´„É™„ÇØ„Ç®„Çπ„Éà„ÇíÈÄÅ‰ø°
response = sagemaker_client.invoke_endpoint(
    EndpointName='your-endpoint-name',
    ContentType='application/json',
    Body=json.dumps(payload)
)

# „É¨„Çπ„Éù„É≥„Çπ„Çí„Éë„Éº„Çπ
result = json.loads(response['Body'].read().decode('utf-8'))

# Ê¨°„ÅÆ„Çπ„ÉÜ„ÉÉ„Éó„ÅÆ„Åü„ÇÅ„Å´ÁµêÊûú„Çí‰øùÂ≠ò
with open('sagemaker_output.json', 'w') as f:
    json.dump(result, f, indent=2)
```

#### ÊúüÂæÖ„Åï„Çå„ÇãÂá∫ÂäõÂΩ¢Âºè

Yomitoku Pro„ÅÆÂá∫Âäõ„ÅØ‰ª•‰∏ã„ÅÆÂΩ¢Âºè„Å´„Å™„Çä„Åæ„ÅôÔºö

```json
{
  "result": [
    {
      "paragraphs": [
        {
          "contents": "„Çµ„É≥„Éó„É´„ÉÜ„Ç≠„Çπ„ÉàÂÜÖÂÆπ",
          "box": [x1, y1, x2, y2],
          "order": 1,
          "role": "paragraph"
        }
      ],
      "tables": [
        {
          "cells": [...],
          "box": [x1, y1, x2, y2],
          "order": 2,
          "n_row": 2,
          "n_col": 2
        }
      ],
      "figures": [...],
      "words": [...],
      "preprocess": {...}
    }
  ]
}
```

### „Çπ„ÉÜ„ÉÉ„Éó2: ÁµêÊûú„ÅÆÂá¶ÁêÜ (`yomitoku-client-example.ipynb`)

„Åì„ÅÆ„Éé„Éº„Éà„Éñ„ÉÉ„ÇØ„Åß„ÅØ„ÄÅYomitoku Client„Çí‰ΩøÁî®„Åó„Å¶Yomitoku Pro„ÅÆOCRÁµêÊûú„ÇíÂá¶ÁêÜ„Åô„ÇãÊñπÊ≥ï„ÇíÂÆüÊºî„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ

#### Âü∫Êú¨ÁöÑ„Å™„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó

```python
from yomitoku_client import YomitokuClient
from yomitoku_client.parsers.sagemaker_parser import SageMakerParser
import json

# „ÇØ„É©„Ç§„Ç¢„É≥„Éà„Å®„Éë„Éº„Çµ„Éº„ÇíÂàùÊúüÂåñ
client = YomitokuClient()
parser = SageMakerParser()

# Yomitoku Pro„ÅÆOCRÁµêÊûú„ÇíË™≠„ÅøËæº„Åø
with open('sagemaker_output.json', 'r') as f:
    sagemaker_output = json.load(f)

# ÁµêÊûú„Çí„Éë„Éº„Çπ
parsed_data = parser.parse_dict(sagemaker_output)
```

#### „Éï„Ç©„Éº„Éû„ÉÉ„ÉàÂ§âÊèõ‰æã

##### 1. CSV„Å´Â§âÊèõ

```python
# CSVÂΩ¢Âºè„Å´Â§âÊèõ
csv_result = client.convert_to_format(parsed_data, 'csv')

# „Éï„Ç°„Ç§„É´„Å´‰øùÂ≠ò
with open('output.csv', 'w', encoding='utf-8') as f:
    f.write(csv_result)

print("CSVÂ§âÊèõÂÆå‰∫ÜÔºÅ")
```

##### 2. HTML„Å´Â§âÊèõ

```python
# HTMLÂΩ¢Âºè„Å´Â§âÊèõ
html_result = client.convert_to_format(parsed_data, 'html')

# „Éï„Ç°„Ç§„É´„Å´‰øùÂ≠ò
with open('output.html', 'w', encoding='utf-8') as f:
    f.write(html_result)

print("HTMLÂ§âÊèõÂÆå‰∫ÜÔºÅ")
```

##### 3. Markdown„Å´Â§âÊèõ

```python
# MarkdownÂΩ¢Âºè„Å´Â§âÊèõ
markdown_result = client.convert_to_format(parsed_data, 'markdown')

# „Éï„Ç°„Ç§„É´„Å´‰øùÂ≠ò
with open('output.md', 'w', encoding='utf-8') as f:
    f.write(markdown_result)

print("MarkdownÂ§âÊèõÂÆå‰∫ÜÔºÅ")
```

##### 4. JSON„Å´Â§âÊèõ

```python
# ÊßãÈÄ†ÂåñJSON„Å´Â§âÊèõ
json_result = client.convert_to_format(parsed_data, 'json')

# „Éï„Ç°„Ç§„É´„Å´‰øùÂ≠ò
with open('processed_output.json', 'w', encoding='utf-8') as f:
    f.write(json_result)

print("JSONÂ§âÊèõÂÆå‰∫ÜÔºÅ")
```

#### È´òÂ∫¶„Å™ÂèØË¶ñÂåñ

```python
from yomitoku_client.visualizers import DocumentVisualizer
import cv2
import numpy as np

# ÂÖÉ„ÅÆÁîªÂÉè„ÇíË™≠„ÅøËæº„Åø
image = cv2.imread('your_document.png')

# „Éì„Ç∏„É•„Ç¢„É©„Ç§„Ç∂„Éº„ÇíÂàùÊúüÂåñ
doc_viz = DocumentVisualizer()

# 1. Âü∫Êú¨ÁöÑ„Å™„É¨„Ç§„Ç¢„Ç¶„ÉàÂèØË¶ñÂåñ
layout_img = doc_viz.visualize((image, parsed_data[0]), type='layout_detail')
cv2.imwrite('layout_visualization.png', layout_img)

# 2. Ë™≠„ÅøÈ†ÜÂèØË¶ñÂåñ
reading_order_img = doc_viz.visualize((image, parsed_data[0]), type='reading_order')
cv2.imwrite('reading_order.png', reading_order_img)

# 3. Ë¶ÅÁ¥†Èñ¢‰øÇ
rel_img = doc_viz.visualize_element_relationships(
    image, parsed_data[0], 
    show_overlaps=True, 
    show_distances=True
)
cv2.imwrite('element_relationships.png', rel_img)

# 4. Ë¶ÅÁ¥†ÈöéÂ±§
hierarchy_img = doc_viz.visualize_element_hierarchy(
    image, parsed_data[0], 
    show_containment=True
)
cv2.imwrite('element_hierarchy.png', hierarchy_img)

# 5. ‰ø°È†ºÂ∫¶„Çπ„Ç≥„Ç¢
confidence_img = doc_viz.visualize_confidence_scores(
    image, parsed_data[0], 
    show_ocr_confidence=True
)
cv2.imwrite('confidence_scores.png', confidence_img)
```

#### Ê§úÁ¥¢ÂèØËÉΩPDFÁîüÊàê

```python
from yomitoku_client.pdf_generator import SearchablePDFGenerator

# PDF„Ç∏„Çß„Éç„É¨„Éº„Çø„Éº„ÇíÂàùÊúüÂåñ
pdf_generator = SearchablePDFGenerator()

# Ê§úÁ¥¢ÂèØËÉΩPDF„Çí‰ΩúÊàê
pdf_generator.create_searchable_pdf(
    images=[image],  # ÁîªÂÉè„ÅÆ„É™„Çπ„Éà
    ocr_results=parsed_data,  # OCRÁµêÊûú
    output_path='searchable_output.pdf'
)

print("Ê§úÁ¥¢ÂèØËÉΩPDF‰ΩúÊàêÂÆå‰∫ÜÔºÅ")
```

#### „É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£Èñ¢Êï∞

```python
from yomitoku_client.utils import (
    calc_overlap_ratio, calc_distance, is_contained,
    escape_markdown_special_chars, table_to_csv
)

# ‰æãÔºö2„Å§„ÅÆË¶ÅÁ¥†Èñì„ÅÆÈáçË§á„ÇíË®àÁÆó
element1_box = [100, 100, 200, 200]
element2_box = [150, 150, 250, 250]

overlap_ratio, intersection = calc_overlap_ratio(element1_box, element2_box)
print(f"ÈáçË§áÁéá: {overlap_ratio:.2f}")

# ‰æãÔºö„ÉÜ„Éº„Éñ„É´„Éá„Éº„Çø„ÇíÂá¶ÁêÜ
if parsed_data[0].tables:
    table = parsed_data[0].tables[0]
    csv_string = table_to_csv(table)
    print("„ÉÜ„Éº„Éñ„É´„ÇíCSV„Å®„Åó„Å¶:")
    print(csv_string)
```

### ÂÆåÂÖ®„Å™„ÉØ„Éº„ÇØ„Éï„É≠„Éº‰æã

```python
# ÊñáÊõ∏„Åã„ÇâÂá¶ÁêÜÊ∏à„ÅøÂá∫Âäõ„Åæ„Åß„ÅÆÂÆåÂÖ®„Å™„ÉØ„Éº„ÇØ„Éï„É≠„Éº
def process_document_with_yomitoku(document_path, endpoint_name):
    """
    ÂÆåÂÖ®„Å™„ÉØ„Éº„ÇØ„Éï„É≠„Éº: ÊñáÊõ∏ ‚Üí Yomitoku Pro ‚Üí Yomitoku Client ‚Üí Âá∫Âäõ
    """
    
    # „Çπ„ÉÜ„ÉÉ„Éó1: Yomitoku Pro„Åã„ÇâOCRÁµêÊûú„ÇíÂèñÂæó
    print("„Çπ„ÉÜ„ÉÉ„Éó1: Yomitoku Pro„Åã„ÇâOCRÁµêÊûú„ÇíÂèñÂæó‰∏≠...")
    ocr_results = get_ocr_from_yomitoku_pro(document_path, endpoint_name)
    
    # „Çπ„ÉÜ„ÉÉ„Éó2: Yomitoku Client„ÅßÂá¶ÁêÜ
    print("„Çπ„ÉÜ„ÉÉ„Éó2: Yomitoku Client„ÅßÂá¶ÁêÜ‰∏≠...")
    client = YomitokuClient()
    parsed_data = client.parse_dict(ocr_results)
    
    # „Çπ„ÉÜ„ÉÉ„Éó3: Ë§áÊï∞ÂΩ¢Âºè„Å´Â§âÊèõ
    print("„Çπ„ÉÜ„ÉÉ„Éó3: Ë§áÊï∞ÂΩ¢Âºè„Å´Â§âÊèõ‰∏≠...")
    formats = ['csv', 'html', 'markdown', 'json']
    for format_type in formats:
        result = client.convert_to_format(parsed_data, format_type)
        with open(f'output.{format_type}', 'w', encoding='utf-8') as f:
            f.write(result)
        print(f"‚úì {format_type.upper()}Â§âÊèõÂÆå‰∫Ü")
    
    # „Çπ„ÉÜ„ÉÉ„Éó4: ÂèØË¶ñÂåñ„Çí‰ΩúÊàê
    print("„Çπ„ÉÜ„ÉÉ„Éó4: ÂèØË¶ñÂåñ„Çí‰ΩúÊàê‰∏≠...")
    create_visualizations(document_path, parsed_data)
    
    # „Çπ„ÉÜ„ÉÉ„Éó5: Ê§úÁ¥¢ÂèØËÉΩPDF„ÇíÁîüÊàê
    print("„Çπ„ÉÜ„ÉÉ„Éó5: Ê§úÁ¥¢ÂèØËÉΩPDF„ÇíÁîüÊàê‰∏≠...")
    generate_searchable_pdf(document_path, parsed_data)
    
    print("‚úì ÂÆåÂÖ®„Å™„ÉØ„Éº„ÇØ„Éï„É≠„ÉºÂÆå‰∫ÜÔºÅ")

# „ÉØ„Éº„ÇØ„Éï„É≠„Éº„ÇíÂÆüË°å
process_document_with_yomitoku('your_document.pdf', 'your-endpoint-name')
```

### „Éà„É©„Éñ„É´„Ç∑„É•„Éº„ÉÜ„Ç£„É≥„Ç∞

#### „Çà„Åè„ÅÇ„ÇãÂïèÈ°å

1. **„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„ÅåË¶ã„Å§„Åã„Çâ„Å™„ÅÑ**: SageMaker„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„Åå„ÄåInService„ÄçÁä∂ÊÖã„ÅãÁ¢∫Ë™ç
2. **Ê®©Èôê„Ç®„É©„Éº**: AWSË™çË®ºÊÉÖÂ†±„Å´SageMaker FullAccess„Åå„ÅÇ„Çã„ÅãÁ¢∫Ë™ç
3. **„Ç§„É≥„Éù„Éº„Éà„Ç®„É©„Éº**: yomitoku-client„ÅåÊ≠£„Åó„Åè„Ç§„É≥„Çπ„Éà„Éº„É´„Åï„Çå„Å¶„ÅÑ„Çã„ÅãÁ¢∫Ë™ç
4. **„É°„É¢„É™ÂïèÈ°å**: „Çà„ÇäÂ∞è„Åï„Å™„Ç§„É≥„Çπ„Çø„É≥„Çπ„Çø„Ç§„Éó„Çí‰ΩøÁî®„Åô„Çã„Åã„ÄÅÊñáÊõ∏„Çí„Éê„ÉÉ„ÉÅ„ÅßÂá¶ÁêÜ

#### „Éò„É´„Éó„ÅÆÂèñÂæó

- „Éé„Éº„Éà„Éñ„ÉÉ„ÇØ„ÅÆÂá∫Âäõ„ÅßË©≥Á¥∞„Å™„Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÁ¢∫Ë™ç
- AWS CloudWatch„É≠„Ç∞„ÅßSageMaker„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„ÅÆÂïèÈ°å„ÇíÁ¢∫Ë™ç
- „Åô„Åπ„Å¶„ÅÆ‰æùÂ≠òÈñ¢‰øÇ„ÅåÊ≠£„Åó„Åè„Ç§„É≥„Çπ„Éà„Éº„É´„Åï„Çå„Å¶„ÅÑ„Çã„ÅãÁ¢∫Ë™ç

</div>
